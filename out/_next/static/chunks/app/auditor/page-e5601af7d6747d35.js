(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[902],{2666:function(e,s,t){Promise.resolve().then(t.bind(t,5233))},5233:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return l}});var n=t(7437),a=t(2265),r=t(5762);function l(){let[e,s]=(0,a.useState)(null),[t,l]=(0,a.useState)([]),[i,c]=(0,a.useState)(!0);(0,a.useEffect)(()=>{d()},[]);let d=()=>{try{let e=(0,r.vS)();l(e)}catch(e){console.error("Error loading disclosures:",e)}finally{c(!1)}},o=e=>new Date(e).toLocaleDateString(),m=(e,s)=>"".concat(parseFloat(e).toFixed(4)," ").concat(s);return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Auditor Portal"}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"View and verify selective disclosure bundles for compliance"})]}),i?(0,n.jsx)("p",{className:"text-gray-500",children:"Loading disclosure bundles..."}):0===t.length?(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 text-center",children:[(0,n.jsx)("p",{className:"text-gray-500",children:"No disclosure bundles found."}),(0,n.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Disclosure bundles will appear here when users enable selective disclosure on withdrawals."})]}):(0,n.jsx)("div",{className:"space-y-4",children:t.map(t=>{let a=(0,r.gW)(t);return(0,n.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 cursor-pointer transition ".concat(e===t.id?"ring-2 ring-blue-600":"hover:shadow-lg"),onClick:()=>s(t.id),children:(0,n.jsxs)("div",{className:"flex justify-between items-start",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-xl font-semibold mb-2 capitalize",children:t.type}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Amount:"}),(0,n.jsx)("span",{className:"ml-2 font-medium",children:m(t.amount,t.assetSymbol)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Date:"}),(0,n.jsx)("span",{className:"ml-2 font-medium",children:o(t.timestamp)})]}),(0,n.jsxs)("div",{className:"col-span-2",children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Hash:"}),(0,n.jsxs)("span",{className:"ml-2 font-mono text-xs",children:[t.hash.slice(0,10),"...",t.hash.slice(-8)]})]}),(0,n.jsxs)("div",{className:"col-span-2",children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Scope:"}),(0,n.jsx)("span",{className:"ml-2 text-xs",children:t.scope.join(", ")})]})]})]}),(0,n.jsx)("div",{className:"px-4 py-2 rounded-lg text-sm font-medium ".concat(a?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"),children:a?"Verified":"Pending"})]})},t.id)})}),e&&(()=>{let s=t.find(s=>s.id===e);return s?(0,n.jsxs)("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Disclosure Details"}),(0,n.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Type:"}),(0,n.jsx)("span",{className:"font-medium capitalize",children:s.type})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Amount:"}),(0,n.jsx)("span",{className:"font-medium",children:m(s.amount,s.assetSymbol)})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Asset:"}),(0,n.jsx)("span",{className:"font-medium",children:s.assetSymbol})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Sender:"}),(0,n.jsxs)("span",{className:"font-mono text-xs",children:[s.senderAddress.slice(0,8),"...",s.senderAddress.slice(-6)]})]}),s.recipientAddress&&(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Recipient:"}),(0,n.jsxs)("span",{className:"font-mono text-xs",children:[s.recipientAddress.slice(0,8),"...",s.recipientAddress.slice(-6)]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Date:"}),(0,n.jsx)("span",{className:"font-medium",children:o(s.timestamp)})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Hash:"}),(0,n.jsx)("span",{className:"font-mono text-xs break-all",children:s.hash})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Scope:"}),(0,n.jsx)("span",{className:"text-xs",children:s.scope.join(", ")})]}),(0,n.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,n.jsx)("button",{onClick:()=>{let e=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="disclosure-bundle-".concat(s.id,".json"),n.click(),URL.revokeObjectURL(t)},className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition",children:"Download Disclosure Bundle"})})]})]}):null})()]})})}},5762:function(e,s,t){"use strict";t.d(s,{Ai:function(){return r},gW:function(){return i},t4:function(){return a},vS:function(){return l}});var n=t(6434).Buffer;function a(e){var s;let t=new Date().toISOString(),a="bundle-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),r=JSON.stringify({type:e.type,amount:e.amount,assetSymbol:e.assetSymbol,senderAddress:e.senderAddress,recipientAddress:e.recipientAddress,proof:e.proof,timestamp:t}),l=n.from(r).toString("hex").slice(0,64).padEnd(64,"0"),i=(null===(s=e.disclosureOptions)||void 0===s?void 0:s.scope)||["amount","assetSymbol","timestamp","withdraw"===e.type?"recipientAddress":null].filter(Boolean);return{id:a,hash:"0x".concat(l),type:e.type,amount:e.amount,assetSymbol:e.assetSymbol,senderAddress:e.senderAddress,recipientAddress:e.recipientAddress,proof:e.proof,proofInput:e.proofInput,timestamp:t,scope:i}}function r(e){try{let s=l();s.push(e),localStorage.setItem("disclosureBundles",JSON.stringify(s))}catch(e){console.error("Error storing disclosure bundle:",e)}}function l(){try{let e=localStorage.getItem("disclosureBundles");if(!e)return[];return JSON.parse(e)}catch(e){return console.error("Error retrieving disclosure bundles:",e),[]}}function i(e){let s=JSON.stringify({type:e.type,amount:e.amount,assetSymbol:e.assetSymbol,senderAddress:e.senderAddress,recipientAddress:e.recipientAddress,proof:e.proof,timestamp:e.timestamp});return"0x".concat(n.from(s).toString("hex").slice(0,64))===e.hash}}},function(e){e.O(0,[434,971,117,744],function(){return e(e.s=2666)}),_N_E=e.O()}]);