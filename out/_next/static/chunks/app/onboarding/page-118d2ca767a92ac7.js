(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{1094:function(e,t,a){Promise.resolve().then(a.bind(a,9463))},9463:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return l}});var r=a(7437),s=a(2265),n=a(9376);function l(){let[e,t]=(0,s.useState)(1),[l,i]=(0,s.useState)(null),[d,c]=(0,s.useState)(""),[o,m]=(0,s.useState)("ethereum"),u=(0,n.useRouter)(),x=async()=>{try{let{connectInternetIdentity:e}=await a.e(532).then(a.bind(a,4532)),r=await e();i(r.principal),localStorage.setItem("icpIdentity",r.principal),localStorage.setItem("icpAttestationRef",r.attestationRef),t(2)}catch(e){console.error("ICP connect failed:",e),i("user-principal-id-mock"),t(2)}},h=async()=>{try{let{connectWallet:e}=await a.e(12).then(a.bind(a,1012)),r=await e();c(r.address||""),t(3)}catch(s){let{validateAddress:e}=await a.e(676).then(a.bind(a,1676)),r=e(d);r.isValid?t(3):alert(r.error||"Please enter a valid Ethereum address")}},b=async()=>{if(d)try{let{screenAddress:t}=await Promise.all([a.e(434),a.e(933)]).then(a.bind(a,1933)),r=await t(d);if(!r.ok){var e;alert("Screening failed: ".concat((null===(e=r.reasons)||void 0===e?void 0:e.join(", "))||"Address flagged"));return}}catch(e){console.error("Screening error:",e)}localStorage.setItem("onboardingComplete","true"),localStorage.setItem("icpIdentity",l||""),localStorage.setItem("walletAddress",d),localStorage.setItem("selectedNetwork",o),u.push("/dashboard")};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12",children:(0,r.jsx)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Onboarding"}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("div",{className:"flex items-center",children:[1,2,3].map(t=>(0,r.jsxs)("div",{className:"flex items-center flex-1",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(e>=t?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"),children:t}),t<3&&(0,r.jsx)("div",{className:"flex-1 h-1 mx-2 ".concat(e>t?"bg-blue-600":"bg-gray-200 dark:bg-gray-700")})]},t))}),(0,r.jsxs)("div",{className:"flex justify-between mt-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,r.jsx)("span",{children:"KYC"}),(0,r.jsx)("span",{children:"Wallet"}),(0,r.jsx)("span",{children:"Network"})]})]}),1===e&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Step 1: KYC Verification"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Sign in via ICP Internet Identity for KYC verification"}),(0,r.jsx)("button",{onClick:x,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition",children:"Connect ICP Internet Identity"})]}),2===e&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Step 2: Link Wallet"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Connect your wallet address"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Wallet Address"}),(0,r.jsx)("input",{type:"text",value:d,onChange:e=>c(e.target.value),placeholder:"0x...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,r.jsx)("button",{onClick:h,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition",children:"Connect Wallet"})]})]}),3===e&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Step 3: Select Network"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Choose your primary network"}),(0,r.jsx)("div",{className:"space-y-3",children:[{id:"ethereum",name:"Ethereum",chainId:1},{id:"polygon",name:"Polygon",chainId:137},{id:"arbitrum",name:"Arbitrum",chainId:42161},{id:"optimism",name:"Optimism",chainId:10}].map(e=>(0,r.jsxs)("button",{onClick:()=>m(e.id),className:"w-full text-left px-4 py-3 rounded-lg border transition ".concat(o===e.id?"border-blue-600 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"),children:[(0,r.jsx)("div",{className:"font-medium",children:e.name}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["Chain ID: ",e.chainId]})]},e.id))}),(0,r.jsx)("button",{onClick:b,className:"w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition",children:"Complete Onboarding"})]})]})})})}},9376:function(e,t,a){"use strict";var r=a(5475);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=1094)}),_N_E=e.O()}]);